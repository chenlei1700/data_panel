<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TableComponent èƒŒæ™¯è‰²åŠŸèƒ½æµ‹è¯•</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f5f7fa;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
        }
        .section {
            margin-bottom: 40px;
            padding: 20px;
            border: 1px solid #e1e8ed;
            border-radius: 8px;
            background: #fafbfc;
        }
        h2 {
            color: #34495e;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
        }
        .highlight {
            background: #ffeaa7;
            padding: 15px;
            border-left: 4px solid #fdcb6e;
            margin: 15px 0;
        }
        .color-demo {
            display: inline-block;
            width: 20px;
            height: 20px;
            border-radius: 4px;
            margin-right: 8px;
            vertical-align: middle;
            border: 1px solid #ddd;
        }
        .heatmap { background: linear-gradient(to right, rgba(255,255,255,0.1), rgba(255,0,0,0.8)); }
        .redgreen-pos { background: rgba(0,255,0,0.3); }
        .redgreen-neg { background: rgba(255,0,0,0.3); }
        .percentage { background: linear-gradient(to right, rgba(255,0,0,0.3), rgba(255,255,0,0.3), rgba(0,255,0,0.3)); }
        .rank { background: linear-gradient(to right, rgba(100,100,255,0.3), rgba(200,200,255,0.6)); }
        .button {
            display: inline-block;
            padding: 10px 20px;
            background: #3498db;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            margin: 10px 10px 10px 0;
            transition: background 0.3s;
        }
        .button:hover {
            background: #2980b9;
        }
        .steps {
            list-style: none;
            padding: 0;
        }
        .steps li {
            margin: 15px 0;
            padding: 10px;
            background: white;
            border-radius: 5px;
            border-left: 4px solid #3498db;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¨ TableComponent èƒŒæ™¯è‰²åŠŸèƒ½ä½¿ç”¨æŒ‡å—</h1>
        
        <div class="section">
            <h2>ğŸ“– åŠŸèƒ½æ¦‚è¿°</h2>
            <p>TableComponent ç°åœ¨æ”¯æŒä¸ºè¡¨æ ¼çš„æ¯ä¸€åˆ—è®¾ç½®åŠ¨æ€èƒŒæ™¯è‰²ï¼Œé€šè¿‡æŒ‡å®šçš„è®¡ç®—å‡½æ•°æ¥ä¸ºæ¯ä¸ªå•å…ƒæ ¼è®¾å®šä¸åŒçš„èƒŒæ™¯è‰²ã€‚è¿™ä¸ªåŠŸèƒ½å¯ä»¥ç”¨æ¥åˆ›å»ºçƒ­åŠ›å›¾ã€çªå‡ºæ˜¾ç¤ºé‡è¦æ•°æ®ã€æˆ–è€…æ ¹æ®æ•°å€¼èŒƒå›´è¿›è¡Œå¯è§†åŒ–å±•ç¤ºã€‚</p>
        </div>

        <div class="section">
            <h2>ğŸ¯ é…ç½®ä½ç½®</h2>
            <div class="highlight">
                <strong>é‡è¦ï¼š</strong> èƒŒæ™¯è‰²é…ç½®åº”è¯¥æ·»åŠ åœ¨<strong>æœåŠ¡å™¨ç«¯çš„è¡¨æ ¼æ•°æ® API</strong> ä¸­ï¼Œè€Œä¸æ˜¯å‰ç«¯ç»„ä»¶ä¸­ã€‚
            </div>
            
            <h3>1. æœåŠ¡å™¨ç«¯é…ç½®ï¼ˆæ¨èï¼‰</h3>
            <p>åœ¨ä½ çš„ API ç«¯ç‚¹ä¸­ï¼Œä¿®æ”¹è¿”å›çš„åˆ—é…ç½®ï¼š</p>
            <div class="code-block">// æ–‡ä»¶ï¼šshow_plate_server.py
@app.route('/api/table-data/plate_info', methods=['GET'])
def get_plate_info_table_data():
    # ...æ•°æ®å¤„ç†...
    
    columns = [
        {"field": "æ¿å—å", "header": "æ¿å—å"},
        {"field": "æ¿å—æ¶¨å¹…", "header": "æ¿å—æ¶¨å¹…", "backgroundColor": "redGreen"},
        {"field": "æ¿å—é‡æ¯”", "header": "æ¿å—é‡æ¯”", "backgroundColor": "heatmap"},
        {"field": "å¼ºåŠ¿åˆ†æ—¶æ¢æ‰‹å æ¯”", "header": "å¼ºåŠ¿åˆ†æ—¶æ¢æ‰‹å æ¯”", "backgroundColor": "percentage"}
    ]
    
    return jsonify({
        "columns": columns,
        "rows": rows
    })</div>

            <h3>2. å‰ç«¯ç»„ä»¶é…ç½®ï¼ˆå¤‡é€‰ï¼‰</h3>
            <p>å¦‚æœéœ€è¦åœ¨å‰ç«¯ç›´æ¥é…ç½®ï¼Œå¯ä»¥ä½¿ç”¨ apiData æ–¹å¼ï¼š</p>
            <div class="code-block">// åœ¨ Vue ç»„ä»¶ä¸­
const tableConfig = ref({
  id: 'my-table',
  apiData: {
    columns: [
      { field: 'name', header: 'è‚¡ç¥¨åç§°' },
      { field: 'price', header: 'ä»·æ ¼', backgroundColor: 'heatmap' },
      { field: 'change', header: 'æ¶¨è·Œå¹…', backgroundColor: 'redGreen' }
    ],
    rows: [
      // æ•°æ®è¡Œ...
    ]
  }
});</div>
        </div>

        <div class="section">
            <h2>ğŸŒˆ å†…ç½®èƒŒæ™¯è‰²å‡½æ•°</h2>
            
            <h3>1. <span class="color-demo heatmap"></span>heatmap - çƒ­åŠ›å›¾</h3>
            <p>æ ¹æ®æ•°å€¼å¤§å°æ˜¾ç¤ºä¸åŒæ·±åº¦çš„çº¢è‰²ï¼Œå€¼è¶Šå¤§é¢œè‰²è¶Šæ·±ã€‚</p>
            <div class="code-block">{"field": "price", "header": "ä»·æ ¼", "backgroundColor": "heatmap"}</div>
            
            <h3>2. <span class="color-demo redgreen-pos"></span><span class="color-demo redgreen-neg"></span>redGreen - çº¢ç»¿è‰²é˜¶</h3>
            <p>æ­£å€¼æ˜¾ç¤ºç»¿è‰²ï¼Œè´Ÿå€¼æ˜¾ç¤ºçº¢è‰²ï¼Œç»å¯¹å€¼è¶Šå¤§é¢œè‰²è¶Šæ·±ã€‚</p>
            <div class="code-block">{"field": "change", "header": "æ¶¨è·Œå¹…", "backgroundColor": "redGreen"}</div>
            
            <h3>3. <span class="color-demo percentage"></span>percentage - ç™¾åˆ†æ¯”è‰²é˜¶</h3>
            <p>é€‚ç”¨äºç™¾åˆ†æ¯”æ•°æ®ï¼Œä»çº¢è‰²(-100%)åˆ°é»„è‰²(0%)åˆ°ç»¿è‰²(+100%)çš„æ¸å˜ã€‚</p>
            <div class="code-block">{"field": "changePercent", "header": "æ¶¨è·Œå¹…(%)", "backgroundColor": "percentage"}</div>
            
            <h3>4. <span class="color-demo rank"></span>rank - ç­‰çº§è‰²é˜¶</h3>
            <p>æ ¹æ®è¯¥åˆ—ä¸­æ•°å€¼çš„æ’åæ˜¾ç¤ºè“è‰²è‰²é˜¶ï¼Œæ’åè¶Šé«˜é¢œè‰²è¶Šæ·±ã€‚</p>
            <div class="code-block">{"field": "volume", "header": "æˆäº¤é‡", "backgroundColor": "rank"}</div>
        </div>

        <div class="section">
            <h2>âš™ï¸ å¦‚ä½•ä½¿ç”¨</h2>
            <ol class="steps">
                <li><strong>æ­¥éª¤ 1ï¼š</strong> æ‰¾åˆ°ä½ çš„è¡¨æ ¼æ•°æ® API æ–‡ä»¶ï¼ˆå¦‚ show_plate_server.pyï¼‰</li>
                <li><strong>æ­¥éª¤ 2ï¼š</strong> åœ¨è¡¨æ ¼æ•°æ®è¿”å›çš„ columns é…ç½®ä¸­æ·»åŠ  backgroundColor å±æ€§</li>
                <li><strong>æ­¥éª¤ 3ï¼š</strong> é€‰æ‹©åˆé€‚çš„å†…ç½®å‡½æ•°ï¼ˆheatmapã€redGreenã€percentageã€rankï¼‰</li>
                <li><strong>æ­¥éª¤ 4ï¼š</strong> é‡å¯æœåŠ¡å™¨å¹¶åˆ·æ–°é¡µé¢æŸ¥çœ‹æ•ˆæœ</li>
            </ol>
        </div>

        <div class="section">
            <h2>ğŸ”§ è‡ªå®šä¹‰èƒŒæ™¯è‰²å‡½æ•°</h2>
            <p>å¦‚æœå†…ç½®å‡½æ•°ä¸èƒ½æ»¡è¶³éœ€æ±‚ï¼Œä½ å¯ä»¥åœ¨å‰ç«¯åˆ›å»ºè‡ªå®šä¹‰å‡½æ•°ï¼š</p>
            <div class="code-block">const customColorFunction = (value, column, row, allRows) => {
  // value: å½“å‰å•å…ƒæ ¼çš„å€¼
  // column: åˆ—é…ç½®ä¿¡æ¯
  // row: å½“å‰è¡Œçš„æ‰€æœ‰æ•°æ®
  // allRows: æ‰€æœ‰è¡Œçš„æ•°æ®æ•°ç»„
  
  if (column.field === 'price') {
    const numValue = parseFloat(value);
    if (numValue > 50) return 'rgba(255, 215, 0, 0.3)'; // é‡‘è‰²
    if (numValue > 30) return 'rgba(0, 255, 0, 0.3)';   // ç»¿è‰²
    if (numValue > 20) return 'rgba(255, 255, 0, 0.3)'; // é»„è‰²
    return 'rgba(255, 165, 0, 0.3)';                    // æ©™è‰²
  }
  
  return 'transparent';
};

// ä½¿ç”¨è‡ªå®šä¹‰å‡½æ•°
{ 
  field: 'price', 
  header: 'ä»·æ ¼', 
  backgroundColor: customColorFunction 
}</div>
        </div>

        <div class="section">
            <h2>ğŸ“ ç›¸å…³æ–‡ä»¶ä½ç½®</h2>
            <ul>
                <li><strong>æœåŠ¡å™¨é…ç½®ï¼š</strong> <code>strategy/show_pic_dateframe/vue-project/api/show_plate_server.py</code></li>
                <li><strong>ç»„ä»¶æ–‡ä»¶ï¼š</strong> <code>src/components/dashboard/TableComponent.vue</code></li>
                <li><strong>ä½¿ç”¨ç¤ºä¾‹ï¼š</strong> <code>src/components/dashboard/TableComponentExample.vue</code></li>
                <li><strong>è¯´æ˜æ–‡æ¡£ï¼š</strong> <code>src/components/dashboard/README_èƒŒæ™¯è‰²åŠŸèƒ½.md</code></li>
            </ul>
        </div>

        <div class="section">
            <h2>ğŸš€ å¿«é€Ÿæµ‹è¯•</h2>
            <p>å·²ç»ä¸ºä½ é…ç½®äº†ä»¥ä¸‹è¡¨æ ¼çš„èƒŒæ™¯è‰²æ•ˆæœï¼š</p>
            <ul>
                <li><strong>æ¿å—æ¦‚è¦æ•°æ®è¡¨ï¼š</strong> æ¿å—æ¶¨å¹…ã€æ¿å—é‡æ¯”ç­‰åˆ—å·²é…ç½®èƒŒæ™¯è‰²</li>
                <li><strong>è‚¡ç¥¨æ•°æ®è¡¨ï¼š</strong> æ¶¨å¹…ã€æ¢æ‰‹ç‡ã€è¿æ¿æ•°ç­‰åˆ—å·²é…ç½®èƒŒæ™¯è‰²</li>
            </ul>
            
            <a href="http://localhost:8080" class="button" target="_blank">ğŸ”— æ‰“å¼€ Vue åº”ç”¨æŸ¥çœ‹æ•ˆæœ</a>
            <a href="http://localhost:5001" class="button" target="_blank">ğŸ”— æµ‹è¯• API æ•°æ®</a>
        </div>

        <div class="section">
            <h2>âš ï¸ æ³¨æ„äº‹é¡¹</h2>
            <ul>
                <li><strong>æ€§èƒ½ï¼š</strong> èƒŒæ™¯è‰²å‡½æ•°ä¼šä¸ºæ¯ä¸ªå•å…ƒæ ¼è°ƒç”¨ï¼Œç¡®ä¿å‡½æ•°é€»è¾‘ç®€å•é«˜æ•ˆ</li>
                <li><strong>æ•°æ®ç±»å‹ï¼š</strong> ç¡®ä¿æ•°æ®ç±»å‹ç¬¦åˆè®¡ç®—å‡½æ•°çš„é¢„æœŸ</li>
                <li><strong>é¢œè‰²æ ¼å¼ï¼š</strong> è¿”å›çš„é¢œè‰²å€¼åº”è¯¥æ˜¯æœ‰æ•ˆçš„CSSé¢œè‰²æ ¼å¼</li>
                <li><strong>æœåŠ¡å™¨é‡å¯ï¼š</strong> ä¿®æ”¹æœåŠ¡å™¨ç«¯é…ç½®åéœ€è¦é‡å¯æœåŠ¡å™¨</li>
            </ul>
        </div>
    </div>
</body>
</html>
