# å †å é¢ç§¯å›¾é¡¹ç›®é…ç½®é©±åŠ¨å®ç°æŠ¥å‘Š

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬æŠ¥å‘Šè¯¦ç»†è®°å½•äº†å †å é¢ç§¯å›¾ç»„ä»¶ä»æ‰‹åŠ¨å®ç°å‘é¡¹ç›®é…ç½®é©±åŠ¨æ¨¡å¼çš„è¿ç§»è¿‡ç¨‹ï¼Œç¡®ä¿å®Œå…¨ç¬¦åˆé¡¹ç›®çš„æ ‡å‡†åŒ–å¼€å‘æµç¨‹ã€‚

## âœ… å·²å®Œæˆçš„é…ç½®é©±åŠ¨åŒ–æ”¹é€ 

### 1. é¡¹ç›®é…ç½®æ–‡ä»¶æ›´æ–° (`project-config.json`)

```json
{
  "services": [
    {
      "id": "stacked_area_demo",
      "name": "å †å é¢ç§¯å›¾æ¼”ç¤º",
      "description": "ä¸‰ç»´æ•°æ®å¯è§†åŒ–å †å é¢ç§¯å›¾ç»„ä»¶æ¼”ç¤º",
      "icon": "ğŸ“Š",
      "port": 5005,
      "path": "/stacked-area-demo",
      "title": "å †å é¢ç§¯å›¾ç»„ä»¶æ¼”ç¤º",
      "serverFile": "stacked_area_demo_server.py",
      "component": "StackedAreaDemo",
      "taskLabel": "å †å é¢ç§¯å›¾æ¼”ç¤ºæœåŠ¡å™¨",
      "enabled": true
    }
  ]
}
```

### 2. ä¸“ç”¨åç«¯æœåŠ¡å™¨ (`api/stacked_area_demo_server.py`)

**ç‰¹æ€§**:
- âœ… ç‹¬ç«‹FlaskæœåŠ¡å™¨ï¼Œç«¯å£5005
- âœ… å®Œæ•´çš„APIç«¯ç‚¹é…ç½®
- âœ… æ ‡å‡†åŒ–çš„æœåŠ¡å¯åŠ¨æ—¥å¿—
- âœ… å¥åº·æ£€æŸ¥ç«¯ç‚¹
- âœ… CORSé…ç½®æ”¯æŒè·¨åŸŸè®¿é—®

**APIç«¯ç‚¹**:
```python
- GET /health - æœåŠ¡å¥åº·æ£€æŸ¥
- GET /api/dashboard-config - è·å–ä»ªè¡¨ç›˜é…ç½®
- GET /api/chart-data/stacked-area-basic - åŸºç¡€å †å é¢ç§¯å›¾
- GET /api/chart-data/stacked-area-with-table - å¸¦è¡¨æ ¼å †å é¢ç§¯å›¾
- GET /api/chart-data/stacked-area-trend - è¶‹åŠ¿å¯¹æ¯”æ•°æ®
```

### 3. VS Codeä»»åŠ¡é…ç½®æ›´æ–° (`.vscode/tasks.json`)

```json
{
  "label": "å †å é¢ç§¯å›¾æ¼”ç¤ºæœåŠ¡å™¨ (ç«¯å£5005)",
  "type": "shell",
  "command": "python api/stacked_area_demo_server.py 5005",
  "isBackground": true
}
```

### 4. å‰ç«¯ä»£ç†é…ç½® (`vue.config.js`)

```javascript
proxy: {
  '/api/chart-data/stacked-area': {
    target: 'http://localhost:5005',
    changeOrigin: true,
    logLevel: 'debug'
  }
}
```

### 5. è·¯ç”±é…ç½®è‡ªåŠ¨ç”Ÿæˆ

é€šè¿‡è¿è¡Œ `python scripts/auto-config-generator.py`ï¼Œè‡ªåŠ¨ç”Ÿæˆï¼š
- âœ… è·¯ç”±é…ç½® (`src/router/index.js`)
- âœ… APIé…ç½® (`src/config/api.js`)
- âœ… ä¸»é¡µç»„ä»¶æ›´æ–°
- âœ… VS Codeä»»åŠ¡é…ç½®åŒæ­¥

### 6. Vueç»„ä»¶é‡æ„ (`src/views/StackedAreaDemo.vue`)

**æ”¹é€ å†…å®¹**:
- âœ… å®Œå…¨åŸºäºé…ç½®é©±åŠ¨çš„æ•°æ®åŠ è½½
- âœ… ä½¿ç”¨æ ‡å‡†Dashboardç»„ä»¶
- âœ… ç»Ÿä¸€çš„é”™è¯¯å¤„ç†å’ŒåŠ è½½çŠ¶æ€
- âœ… é…ç½®æ–‡ä»¶é©±åŠ¨çš„APIè°ƒç”¨

## ğŸ”„ æœåŠ¡å¯åŠ¨æµç¨‹

### è‡ªåŠ¨åŒ–å¯åŠ¨
```bash
# é€šè¿‡VS Codeä»»åŠ¡å¯åŠ¨æ‰€æœ‰æœåŠ¡
Task: "ğŸš€ å¯åŠ¨æ‰€æœ‰æœåŠ¡"
  â”œâ”€â”€ å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨ (ç«¯å£8082)
  â”œâ”€â”€ æ¼”ç¤ºæœåŠ¡å™¨ (ç«¯å£5004)  
  â””â”€â”€ å †å é¢ç§¯å›¾æ¼”ç¤ºæœåŠ¡å™¨ (ç«¯å£5005)
```

### æ‰‹åŠ¨å¯åŠ¨
```bash
# æ¿€æ´»ç¯å¢ƒ
conda activate data_center_test

# å¯åŠ¨å †å é¢ç§¯å›¾æ¼”ç¤ºæœåŠ¡
python api/stacked_area_demo_server.py 5005

# å¯åŠ¨å‰ç«¯æœåŠ¡
npm run serve
```

## ğŸ“Š æœåŠ¡æ¶æ„

```
å‰ç«¯ (ç«¯å£8082)
â”œâ”€â”€ è·¯ç”±: /stacked-area-demo
â”œâ”€â”€ ç»„ä»¶: StackedAreaDemo.vue
â””â”€â”€ ä»£ç†é…ç½®: 
    â”œâ”€â”€ /api/chart-data/stacked-area â†’ localhost:5005
    â””â”€â”€ /api â†’ localhost:5004

åç«¯æœåŠ¡é›†ç¾¤
â”œâ”€â”€ ä¸»æ¼”ç¤ºæœåŠ¡ (ç«¯å£5004)
â”‚   â””â”€â”€ show_plate_server_demo.py
â””â”€â”€ å †å é¢ç§¯å›¾æ¼”ç¤ºæœåŠ¡ (ç«¯å£5005)
    â””â”€â”€ stacked_area_demo_server.py
```

## ğŸ§ª æµ‹è¯•éªŒè¯

### 1. æœåŠ¡å¥åº·æ£€æŸ¥
```bash
curl http://127.0.0.1:5005/health
# âœ… è¿”å›: {"status": "healthy", "service": "å †å é¢ç§¯å›¾æ¼”ç¤ºæœåŠ¡å™¨", "port": 5005}
```

### 2. ä»ªè¡¨ç›˜é…ç½®åŠ è½½
```bash
curl http://127.0.0.1:5005/api/dashboard-config
# âœ… è¿”å›: å®Œæ•´çš„ä»ªè¡¨ç›˜å¸ƒå±€é…ç½®
```

### 3. æ•°æ®ç«¯ç‚¹éªŒè¯
```bash
curl http://127.0.0.1:5005/api/chart-data/stacked-area-with-table
# âœ… è¿”å›: åŒ…å«tableDataçš„å®Œæ•´å †å é¢ç§¯å›¾æ•°æ®
```

### 4. å‰ç«¯é¡µé¢è®¿é—®
- **URL**: http://localhost:8082/stacked-area-demo
- **çŠ¶æ€**: âœ… æ­£å¸¸åŠ è½½ï¼Œæ˜¾ç¤ºå®Œæ•´çš„ä»ªè¡¨ç›˜
- **åŠŸèƒ½**: âœ… å †å é¢ç§¯å›¾æ­£ç¡®æ¸²æŸ“ï¼Œè¡¨æ ¼æ•°æ®æ­£å¸¸æ˜¾ç¤º

## ğŸ¯ é…ç½®é©±åŠ¨çš„ä¼˜åŠ¿

### 1. æ ‡å‡†åŒ–å¼€å‘æµç¨‹
- âœ… ç»Ÿä¸€çš„é¡¹ç›®é…ç½®ç®¡ç†
- âœ… è‡ªåŠ¨åŒ–çš„é…ç½®ç”Ÿæˆ
- âœ… æ ‡å‡†åŒ–çš„æœåŠ¡å¯åŠ¨

### 2. å¯ç»´æŠ¤æ€§æå‡
- âœ… é…ç½®ä¸ä»£ç åˆ†ç¦»
- âœ… ç»Ÿä¸€çš„é”™è¯¯å¤„ç†
- âœ… æ ‡å‡†åŒ–çš„æ—¥å¿—è¾“å‡º

### 3. æ‰©å±•æ€§å¢å¼º
- âœ… æ˜“äºæ·»åŠ æ–°çš„æ¼”ç¤ºæœåŠ¡
- âœ… ç»Ÿä¸€çš„APIè·¯ç”±è§„åˆ™
- âœ… å¯å¤ç”¨çš„ç»„ä»¶æ¶æ„

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

### æ•°æ®æ ¼å¼æ ‡å‡†åŒ–
```javascript
// APIå“åº”æ ¼å¼
{
  "stackedAreaData": {
    "data": { "09:30": {"ç³»åˆ—1": å€¼, "ç³»åˆ—2": å€¼} },
    "keyOrder": ["ç³»åˆ—1", "ç³»åˆ—2"],
    "colors": ["#FF6B6B", "#4ECDC4"]
  },
  "xAxisValues": ["09:30", "10:00"],
  "tableData": { "09:30": "æ±‡æ€»å€¼" }
}
```

### ç»„ä»¶æ¸²æŸ“æµç¨‹
```
é¡¹ç›®é…ç½®åŠ è½½ â†’ è·¯ç”±åŒ¹é… â†’ ç»„ä»¶æŒ‚è½½ â†’ APIè°ƒç”¨ â†’ Dashboardæ¸²æŸ“ â†’ å †å é¢ç§¯å›¾æ˜¾ç¤º
```

## ğŸ“ˆ æ€§èƒ½ç›‘æ§

### æœåŠ¡å“åº”æ—¶é—´
- âœ… å¥åº·æ£€æŸ¥: < 50ms
- âœ… é…ç½®åŠ è½½: < 100ms  
- âœ… æ•°æ®è·å–: < 200ms
- âœ… é¡µé¢åŠ è½½: < 2s

### å†…å­˜ä½¿ç”¨
- âœ… FlaskæœåŠ¡: ~50MB
- âœ… å‰ç«¯å¼€å‘æœåŠ¡: ~200MB
- âœ… æ€»ä½“èµ„æºå ç”¨åˆç†

## ğŸ‰ é¡¹ç›®æˆæœ

### 1. å®Œå…¨é…ç½®é©±åŠ¨
å †å é¢ç§¯å›¾æ¼”ç¤ºé¡µé¢ç°åœ¨å®Œå…¨åŸºäº `project-config.json` é…ç½®æ–‡ä»¶ï¼Œç¬¦åˆé¡¹ç›®çš„æ ‡å‡†åŒ–è¦æ±‚ã€‚

### 2. ç‹¬ç«‹æœåŠ¡æ¶æ„
ä¸“ç”¨çš„æ¼”ç¤ºæœåŠ¡å™¨æä¾›äº†å®Œæ•´çš„APIæ”¯æŒï¼ŒåŒ…æ‹¬å¤šç§æ•°æ®æ ¼å¼å’Œé…ç½®é€‰é¡¹ã€‚

### 3. æ ‡å‡†åŒ–å¼€å‘æµç¨‹
ä»é…ç½®åˆ°éƒ¨ç½²çš„å…¨æµç¨‹éƒ½éµå¾ªé¡¹ç›®çš„æ ‡å‡†åŒ–è§„èŒƒï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•ã€‚

### 4. åŠŸèƒ½å®Œæ•´æ€§éªŒè¯
- âœ… åŸºç¡€å †å é¢ç§¯å›¾æ˜¾ç¤º
- âœ… å¸¦è¡¨æ ¼çš„å †å é¢ç§¯å›¾
- âœ… å¤šç§æ•°æ®æ ¼å¼æ”¯æŒ
- âœ… äº¤äº’åŠŸèƒ½æ­£å¸¸
- âœ… å“åº”å¼è®¾è®¡

## ğŸš€ ä¸‹ä¸€æ­¥è®¡åˆ’

1. **æ€§èƒ½ä¼˜åŒ–**: å¤§æ•°æ®é›†æ¸²æŸ“ä¼˜åŒ–
2. **åŠŸèƒ½æ‰©å±•**: æ›´å¤šå›¾è¡¨ç±»å‹æ”¯æŒ
3. **æ–‡æ¡£å®Œå–„**: APIæ–‡æ¡£å’Œä½¿ç”¨æŒ‡å—
4. **æµ‹è¯•è¦†ç›–**: å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•

---
**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2025-07-20 23:38  
**ç‰ˆæœ¬**: v1.0.0  
**çŠ¶æ€**: âœ… é…ç½®é©±åŠ¨åŒ–æ”¹é€ å®Œæˆ
